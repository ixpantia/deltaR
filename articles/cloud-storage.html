<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using deltaR with Cloud Storage • deltaR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using deltaR with Cloud Storage">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">deltaR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cloud-storage.html">Using deltaR with Cloud Storage</a></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with deltaR</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ixpantia/deltaR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using deltaR with Cloud Storage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ixpantia/deltaR/blob/main/vignettes/cloud-storage.Rmd" class="external-link"><code>vignettes/cloud-storage.Rmd</code></a></small>
      <div class="d-none name"><code>cloud-storage.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>deltaR provides native support for reading and writing Delta tables
to cloud storage services, including: - <strong>Amazon S3</strong> -
<strong>Google Cloud Storage (GCS)</strong> - <strong>Azure Blob Storage
/ Azure Data Lake Storage (ADLS)</strong></p>
<p>This guide covers how to configure and use each cloud storage
provider with deltaR.</p>
</div>
<div class="section level2">
<h2 id="general-concepts">General Concepts<a class="anchor" aria-label="anchor" href="#general-concepts"></a>
</h2>
<div class="section level3">
<h3 id="storage-options">Storage Options<a class="anchor" aria-label="anchor" href="#storage-options"></a>
</h3>
<p>All cloud storage operations in deltaR use the
<code>storage_options</code> parameter to pass authentication
credentials and configuration. This is a named list where keys and
values depend on the cloud provider.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ixpantia/deltaR" class="external-link">deltaR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="uri-formats">URI Formats<a class="anchor" aria-label="anchor" href="#uri-formats"></a>
</h3>
<p>Each cloud provider uses a specific URI format:</p>
<table class="table">
<colgroup>
<col width="45%">
<col width="54%">
</colgroup>
<thead><tr class="header">
<th>Provider</th>
<th>URI Format</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Amazon S3</td>
<td><code>s3://bucket-name/path/to/table</code></td>
</tr>
<tr class="even">
<td>Google Cloud Storage</td>
<td><code>gs://bucket-name/path/to/table</code></td>
</tr>
<tr class="odd">
<td>Azure Blob Storage</td>
<td><code>az://container-name/path/to/table</code></td>
</tr>
<tr class="even">
<td>Azure Data Lake Gen2</td>
<td><code>abfs://container@account.dfs.core.windows.net/path</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="amazon-s3">Amazon S3<a class="anchor" aria-label="anchor" href="#amazon-s3"></a>
</h2>
<div class="section level3">
<h3 id="authentication-options">Authentication Options<a class="anchor" aria-label="anchor" href="#authentication-options"></a>
</h3>
<p>deltaR supports multiple authentication methods for S3:</p>
<div class="section level4">
<h4 id="access-keys">1. Access Keys<a class="anchor" aria-label="anchor" href="#access-keys"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using access keys directly</span></span>
<span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="st">"YOUR_ACCESS_KEY_ID"</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="st">"YOUR_SECRET_ACCESS_KEY"</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read from S3</span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"s3://my-bucket/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write to S3</span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="st">"s3://my-bucket/delta_table"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">storage_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="environment-variables-recommended">2. Environment Variables (Recommended)<a class="anchor" aria-label="anchor" href="#environment-variables-recommended"></a>
</h4>
<p>Using environment variables is more secure than hardcoding
credentials:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set environment variables (in .Renviron or your shell)</span></span>
<span><span class="co"># AWS_ACCESS_KEY_ID=your_access_key</span></span>
<span><span class="co"># AWS_SECRET_ACCESS_KEY=your_secret_key</span></span>
<span><span class="co"># AWS_REGION=us-east-1</span></span>
<span></span>
<span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_ACCESS_KEY_ID"</span><span class="op">)</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_SECRET_ACCESS_KEY"</span><span class="op">)</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_REGION"</span>, <span class="st">"us-east-1"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"s3://my-bucket/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="iam-role-ec2ecslambda">3. IAM Role (EC2/ECS/Lambda)<a class="anchor" aria-label="anchor" href="#iam-role-ec2ecslambda"></a>
</h4>
<p>When running on AWS infrastructure with an IAM role attached, you
typically only need to specify the region:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"s3://my-bucket/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="session-tokens-temporary-credentials">4. Session Tokens (Temporary Credentials)<a class="anchor" aria-label="anchor" href="#session-tokens-temporary-credentials"></a>
</h4>
<p>For temporary credentials from STS:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="st">"YOUR_TEMP_ACCESS_KEY"</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="st">"YOUR_TEMP_SECRET_KEY"</span>,</span>
<span>  aws_session_token <span class="op">=</span> <span class="st">"YOUR_SESSION_TOKEN"</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="s3-compatible-storage">S3-Compatible Storage<a class="anchor" aria-label="anchor" href="#s3-compatible-storage"></a>
</h3>
<p>deltaR works with S3-compatible storage services like MinIO,
LocalStack, or Ceph:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># MinIO example</span></span>
<span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="st">"minioadmin"</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="st">"minioadmin"</span>,</span>
<span>  aws_endpoint_url <span class="op">=</span> <span class="st">"http://localhost:9000"</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span>,</span>
<span>  aws_allow_http <span class="op">=</span> <span class="st">"true"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"s3://my-bucket/table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="s3-storage-options-reference">S3 Storage Options Reference<a class="anchor" aria-label="anchor" href="#s3-storage-options-reference"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Option</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>aws_access_key_id</code></td>
<td>AWS access key ID</td>
</tr>
<tr class="even">
<td><code>aws_secret_access_key</code></td>
<td>AWS secret access key</td>
</tr>
<tr class="odd">
<td><code>aws_session_token</code></td>
<td>Session token for temporary credentials</td>
</tr>
<tr class="even">
<td><code>aws_region</code></td>
<td>AWS region (e.g., “us-east-1”)</td>
</tr>
<tr class="odd">
<td><code>aws_endpoint_url</code></td>
<td>Custom endpoint URL for S3-compatible services</td>
</tr>
<tr class="even">
<td><code>aws_allow_http</code></td>
<td>Allow HTTP connections (default: false)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="google-cloud-storage">Google Cloud Storage<a class="anchor" aria-label="anchor" href="#google-cloud-storage"></a>
</h2>
<div class="section level3">
<h3 id="authentication-options-1">Authentication Options<a class="anchor" aria-label="anchor" href="#authentication-options-1"></a>
</h3>
<div class="section level4">
<h4 id="service-account-key-file">1. Service Account Key File<a class="anchor" aria-label="anchor" href="#service-account-key-file"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  google_service_account_path <span class="op">=</span> <span class="st">"/path/to/service-account-key.json"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"gs://my-bucket/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="st">"gs://my-bucket/delta_table"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">storage_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="service-account-key-as-json-string">2. Service Account Key as JSON String<a class="anchor" aria-label="anchor" href="#service-account-key-as-json-string"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read the key file content</span></span>
<span><span class="va">key_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="st">"/path/to/service-account-key.json"</span>, warn <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">key_json</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">key_json</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span></span>
<span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  google_service_account_key <span class="op">=</span> <span class="va">key_json</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"gs://my-bucket/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="application-default-credentials">3. Application Default Credentials<a class="anchor" aria-label="anchor" href="#application-default-credentials"></a>
</h4>
<p>When running on GCP infrastructure (Compute Engine, Cloud Run, GKE)
or with <code>gcloud</code> configured locally:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Uses Application Default Credentials automatically</span></span>
<span><span class="co"># Make sure you've run: gcloud auth application-default login</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"gs://my-bucket/delta_table"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="gcs-storage-options-reference">GCS Storage Options Reference<a class="anchor" aria-label="anchor" href="#gcs-storage-options-reference"></a>
</h3>
<table class="table">
<colgroup>
<col width="38%">
<col width="61%">
</colgroup>
<thead><tr class="header">
<th>Option</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>google_service_account_path</code></td>
<td>Path to service account JSON key file</td>
</tr>
<tr class="even">
<td><code>google_service_account_key</code></td>
<td>Service account key as JSON string</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="azure-blob-storage-adls-gen2">Azure Blob Storage / ADLS Gen2<a class="anchor" aria-label="anchor" href="#azure-blob-storage-adls-gen2"></a>
</h2>
<div class="section level3">
<h3 id="authentication-options-2">Authentication Options<a class="anchor" aria-label="anchor" href="#authentication-options-2"></a>
</h3>
<div class="section level4">
<h4 id="storage-account-key">1. Storage Account Key<a class="anchor" aria-label="anchor" href="#storage-account-key"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  azure_storage_account_name <span class="op">=</span> <span class="st">"mystorageaccount"</span>,</span>
<span>  azure_storage_account_key <span class="op">=</span> <span class="st">"YOUR_ACCOUNT_KEY"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"az://mycontainer/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="st">"az://mycontainer/delta_table"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">storage_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="shared-access-signature-sas-token">2. Shared Access Signature (SAS) Token<a class="anchor" aria-label="anchor" href="#shared-access-signature-sas-token"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  azure_storage_account_name <span class="op">=</span> <span class="st">"mystorageaccount"</span>,</span>
<span>  azure_storage_sas_token <span class="op">=</span> <span class="st">"?sv=2021-06-08&amp;ss=b&amp;srt=co..."</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"az://mycontainer/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="service-principal-client-credentials">3. Service Principal (Client Credentials)<a class="anchor" aria-label="anchor" href="#service-principal-client-credentials"></a>
</h4>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  azure_storage_account_name <span class="op">=</span> <span class="st">"mystorageaccount"</span>,</span>
<span>  azure_storage_client_id <span class="op">=</span> <span class="st">"YOUR_CLIENT_ID"</span>,</span>
<span>  azure_storage_client_secret <span class="op">=</span> <span class="st">"YOUR_CLIENT_SECRET"</span>,</span>
<span>  azure_storage_tenant_id <span class="op">=</span> <span class="st">"YOUR_TENANT_ID"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"az://mycontainer/delta_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="azure-data-lake-storage-gen2">4. Azure Data Lake Storage Gen2<a class="anchor" aria-label="anchor" href="#azure-data-lake-storage-gen2"></a>
</h4>
<p>For ADLS Gen2, you can use the <code>abfs://</code> or
<code>abfss://</code> URI schemes:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  azure_storage_account_name <span class="op">=</span> <span class="st">"mystorageaccount"</span>,</span>
<span>  azure_storage_account_key <span class="op">=</span> <span class="st">"YOUR_ACCOUNT_KEY"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># abfss:// for secure (TLS) connections</span></span>
<span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span></span>
<span>  <span class="st">"abfss://mycontainer@mystorageaccount.dfs.core.windows.net/delta_table"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">storage_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="azure-storage-options-reference">Azure Storage Options Reference<a class="anchor" aria-label="anchor" href="#azure-storage-options-reference"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Option</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>azure_storage_account_name</code></td>
<td>Storage account name</td>
</tr>
<tr class="even">
<td><code>azure_storage_account_key</code></td>
<td>Storage account access key</td>
</tr>
<tr class="odd">
<td><code>azure_storage_sas_token</code></td>
<td>Shared access signature token</td>
</tr>
<tr class="even">
<td><code>azure_storage_client_id</code></td>
<td>Service principal client ID</td>
</tr>
<tr class="odd">
<td><code>azure_storage_client_secret</code></td>
<td>Service principal client secret</td>
</tr>
<tr class="even">
<td><code>azure_storage_tenant_id</code></td>
<td>Azure AD tenant ID</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="complete-examples">Complete Examples<a class="anchor" aria-label="anchor" href="#complete-examples"></a>
</h2>
<div class="section level3">
<h3 id="example-1-etl-pipeline-with-s3">Example 1: ETL Pipeline with S3<a class="anchor" aria-label="anchor" href="#example-1-etl-pipeline-with-s3"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ixpantia/deltaR" class="external-link">deltaR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Configure S3 storage</span></span>
<span><span class="va">s3_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_ACCESS_KEY_ID"</span><span class="op">)</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_SECRET_ACCESS_KEY"</span><span class="op">)</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read source data</span></span>
<span><span class="va">source_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span></span>
<span>  <span class="st">"s3://data-lake/bronze/raw_events"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">s3_options</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Transform data</span></span>
<span><span class="va">transformed_data</span> <span class="op">&lt;-</span> <span class="va">source_dt</span><span class="op">$</span><span class="fu">to_arrow</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">event_type</span> <span class="op">==</span> <span class="st">"purchase"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    event_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">event_timestamp</span><span class="op">)</span>,</span>
<span>    revenue <span class="op">=</span> <span class="va">quantity</span> <span class="op">*</span> <span class="va">unit_price</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">event_id</span>, <span class="va">user_id</span>, <span class="va">event_date</span>, <span class="va">product_id</span>, <span class="va">revenue</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write to silver layer</span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">transformed_data</span>,</span>
<span>  <span class="st">"s3://data-lake/silver/purchases"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"append"</span>,</span>
<span>  partition_by <span class="op">=</span> <span class="st">"event_date"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">s3_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-2-data-lakehouse-with-gcs">Example 2: Data Lakehouse with GCS<a class="anchor" aria-label="anchor" href="#example-2-data-lakehouse-with-gcs"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ixpantia/deltaR" class="external-link">deltaR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Configure GCS storage</span></span>
<span><span class="va">gcs_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  google_service_account_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GOOGLE_APPLICATION_CREDENTIALS"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new Delta table</span></span>
<span><span class="va">sales_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  sale_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>,</span>
<span>  store_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">1000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  product_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">200</span>, <span class="fl">1000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  sale_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">364</span>, <span class="fl">1000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  quantity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fl">1000</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  total_amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">sales_data</span>,</span>
<span>  <span class="st">"gs://analytics-lakehouse/sales/daily"</span>,</span>
<span>  partition_by <span class="op">=</span> <span class="st">"sale_date"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"daily_sales"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Daily sales transactions from all stores"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">gcs_options</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Later: append new data</span></span>
<span><span class="va">new_sales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  sale_id <span class="op">=</span> <span class="fl">1001</span><span class="op">:</span><span class="fl">1100</span>,</span>
<span>  store_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  product_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">200</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  sale_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2025-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">30</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  quantity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="fl">100</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  total_amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">10</span>, <span class="fl">1000</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">new_sales</span>,</span>
<span>  <span class="st">"gs://analytics-lakehouse/sales/daily"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"append"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">gcs_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-3-multi-cloud-data-replication">Example 3: Multi-Cloud Data Replication<a class="anchor" aria-label="anchor" href="#example-3-multi-cloud-data-replication"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ixpantia/deltaR" class="external-link">deltaR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Source: AWS S3</span></span>
<span><span class="va">s3_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_ACCESS_KEY_ID"</span><span class="op">)</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_SECRET_ACCESS_KEY"</span><span class="op">)</span>,</span>
<span>  aws_region <span class="op">=</span> <span class="st">"us-east-1"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Destination: Azure Blob Storage</span></span>
<span><span class="va">azure_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  azure_storage_account_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AZURE_STORAGE_ACCOUNT"</span><span class="op">)</span>,</span>
<span>  azure_storage_account_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AZURE_STORAGE_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read from S3</span></span>
<span><span class="va">source_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span></span>
<span>  <span class="st">"s3://source-bucket/important_data"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">s3_options</span></span>
<span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">source_dt</span><span class="op">$</span><span class="fu">to_arrow</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write to Azure</span></span>
<span><span class="fu"><a href="../reference/write_deltalake.html">write_deltalake</a></span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="st">"az://backup-container/important_data"</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"overwrite"</span>,</span>
<span>  storage_options <span class="op">=</span> <span class="va">azure_options</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="security-best-practices">Security Best Practices<a class="anchor" aria-label="anchor" href="#security-best-practices"></a>
</h2>
<div class="section level3">
<h3 id="never-hardcode-credentials">1. Never Hardcode Credentials<a class="anchor" aria-label="anchor" href="#never-hardcode-credentials"></a>
</h3>
<p>Always use environment variables or secure secret management:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good: Use environment variables</span></span>
<span><span class="va">storage_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  aws_access_key_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_ACCESS_KEY_ID"</span><span class="op">)</span>,</span>
<span>  aws_secret_access_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"AWS_SECRET_ACCESS_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Bad: Hardcoded credentials (never do this!)</span></span>
<span><span class="co"># storage_options &lt;- list(</span></span>
<span><span class="co">#   aws_access_key_id = "AKIAIOSFODNN7EXAMPLE",</span></span>
<span><span class="co">#   aws_secret_access_key = "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"</span></span>
<span><span class="co"># )</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-iam-roles-when-possible">2. Use IAM Roles When Possible<a class="anchor" aria-label="anchor" href="#use-iam-roles-when-possible"></a>
</h3>
<p>On cloud infrastructure, prefer IAM roles over access keys:</p>
<ul>
<li>
<strong>AWS</strong>: Attach IAM roles to EC2 instances, Lambda
functions, or ECS tasks</li>
<li>
<strong>GCP</strong>: Use service accounts attached to Compute
Engine VMs or Cloud Run services</li>
<li>
<strong>Azure</strong>: Use Managed Identities for Azure VMs or
Azure Functions</li>
</ul>
</div>
<div class="section level3">
<h3 id="principle-of-least-privilege">3. Principle of Least Privilege<a class="anchor" aria-label="anchor" href="#principle-of-least-privilege"></a>
</h3>
<p>Grant only the minimum permissions required:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  <span class="dt">"Version"</span><span class="fu">:</span> <span class="st">"2012-10-17"</span><span class="fu">,</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  <span class="dt">"Statement"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>      <span class="dt">"Effect"</span><span class="fu">:</span> <span class="st">"Allow"</span><span class="fu">,</span></span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>      <span class="dt">"Action"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>        <span class="st">"s3:GetObject"</span><span class="ot">,</span></span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>        <span class="st">"s3:PutObject"</span><span class="ot">,</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>        <span class="st">"s3:DeleteObject"</span><span class="ot">,</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>        <span class="st">"s3:ListBucket"</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>      <span class="dt">"Resource"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>        <span class="st">"arn:aws:s3:::my-delta-bucket"</span><span class="ot">,</span></span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a>        <span class="st">"arn:aws:s3:::my-delta-bucket/*"</span></span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>      <span class="ot">]</span></span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-encryption">4. Use Encryption<a class="anchor" aria-label="anchor" href="#use-encryption"></a>
</h3>
<p>Enable encryption at rest and in transit:</p>
<ul>
<li>
<strong>S3</strong>: Enable SSE-S3, SSE-KMS, or SSE-C
encryption</li>
<li>
<strong>GCS</strong>: Enable Customer-Managed Encryption Keys
(CMEK)</li>
<li>
<strong>Azure</strong>: Enable Storage Service Encryption (SSE)</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="common-errors">Common Errors<a class="anchor" aria-label="anchor" href="#common-errors"></a>
</h3>
<div class="section level4">
<h4 id="access-denied-or-403-forbidden">“Access Denied” or “403 Forbidden”<a class="anchor" aria-label="anchor" href="#access-denied-or-403-forbidden"></a>
</h4>
<ul>
<li>Verify credentials are correct</li>
<li>Check IAM permissions include required actions (GetObject,
PutObject, etc.)</li>
<li>Ensure bucket/container policies allow access</li>
</ul>
</div>
<div class="section level4">
<h4 id="bucket-not-found-or-404-not-found">“Bucket Not Found” or “404 Not Found”<a class="anchor" aria-label="anchor" href="#bucket-not-found-or-404-not-found"></a>
</h4>
<ul>
<li>Verify the bucket/container name is correct</li>
<li>Check the region matches where the bucket is located</li>
<li>Ensure the URI format is correct for the cloud provider</li>
</ul>
</div>
<div class="section level4">
<h4 id="connection-timeout">“Connection Timeout”<a class="anchor" aria-label="anchor" href="#connection-timeout"></a>
</h4>
<ul>
<li>Check network connectivity to the cloud provider</li>
<li>Verify firewall rules allow outbound HTTPS traffic</li>
<li>For S3-compatible services, verify the endpoint URL is correct</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="debugging-tips">Debugging Tips<a class="anchor" aria-label="anchor" href="#debugging-tips"></a>
</h3>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Enable verbose logging (if available)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>deltaR.verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test credentials with a simple operation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/delta_table.html">delta_table</a></span><span class="op">(</span><span class="st">"s3://my-bucket/test_table"</span>, storage_options <span class="op">=</span> <span class="va">storage_options</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">dt</span><span class="op">$</span><span class="fu">version</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Error: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>deltaR’s cloud storage support is powered by the <a href="https://github.com/apache/arrow-rs/tree/master/object_store" class="external-link">object_store</a>
crate from the Apache Arrow project and the <a href="https://github.com/delta-io/delta-rs" class="external-link">delta-rs</a> library. We
thank the maintainers and contributors of these projects for their
excellent work.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by ixpantia.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
