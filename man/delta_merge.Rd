% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/merge.R
\name{delta_merge}
\alias{delta_merge}
\title{Start a Delta Lake MERGE operation}
\usage{
delta_merge(
  table,
  source,
  predicate,
  source_alias = "source",
  target_alias = "target",
  storage_options = NULL
)
}
\arguments{
\item{table}{A DeltaTable object or character path to Delta table.}

\item{source}{Source data (data.frame, Arrow Table, or any nanoarrow-compatible object).}

\item{predicate}{Character. SQL-like predicate for matching (e.g., "target.id = source.id").}

\item{source_alias}{Character. Alias for source table in predicates (default: "source").}

\item{target_alias}{Character. Alias for target table in predicates (default: "target").}

\item{storage_options}{Named list. Storage backend options (optional).}
}
\value{
A DeltaMergeBuilder object that can be further configured with
\verb{when_matched_*} and \verb{when_not_matched_*} methods.
}
\description{
Creates a DeltaMergeBuilder to configure and execute a MERGE operation
that can update, insert, or delete records based on matching conditions.
}
\examples{
\dontrun{
# Create target table
target <- data.frame(id = 1:3, value = c(10, 20, 30))
write_deltalake(target, "path/to/table")

# Prepare source data for merge
source <- data.frame(id = c(2, 4), value = c(25, 40))

# Perform upsert (update existing, insert new)
result <- delta_merge("path/to/table", source, "target.id = source.id") |>
  when_matched_update(c(value = "source.value")) |>
  when_not_matched_insert(c(id = "source.id", value = "source.value")) |>
  merge_execute()
}

}
\seealso{
\code{\link{when_matched_update}}, \code{\link{when_matched_delete}},
\code{\link{when_not_matched_insert}}, \code{\link{when_not_matched_by_source_delete}},
\code{\link{merge_execute}}
}
